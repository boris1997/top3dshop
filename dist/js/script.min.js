class Navigation{constructor(e,i,t,s,a,l,r,n,o,c,d){this.page=e,this.menuWrapper=i,this.sidebar=t,this.sidebarBody=s,this.sidebarOverlay=a,this.backButton=l,this.hamburgerMenu=r,this.menuToggleres=n,this.menuElements=o,this.nestedElements=c,this.activeWrapper=null,this.navigationTransform=0,this.backButtonModificators=["mobile-menu__back--show","mobile-menu__back--transition"],this.inputSearch=d}init(){this.menuElements.map(((e,i)=>{e.onclick=e=>this.slickRight(e,i)})),this.toggleSearchPlaceholder(),window.onresize=()=>{window.innerWidth>1080&&this.sidebar.classList.contains("page__sidebar--active")?this.removeSidebar():slider.changeTranslation(),this.toggleSearchPlaceholder()},this.sidebarOverlay.onclick=()=>this.removeSidebar(),this.backButton.onclick=e=>this.slickLeft(e),this.hamburgerMenu.onclick=e=>this.toggleSidebar()}toggleSearchPlaceholder=()=>{window.innerWidth<550?this.inputSearch.placeholder="Введите запрос":this.inputSearch.placeholder="Введите запрос, например, Formlabs Form 2"};toggleSidebar=()=>{this.sidebar.classList.toggle("page__sidebar--active"),this.page.classList.toggle("page__noScroll"),this.sidebarBody.classList.toggle("sidebar__body--active"),this.sidebarOverlay.classList.toggle("sidebar__overlay--show"),this.hamburgerMenu.classList.toggle("hamburger-menu__content--active"),window.scrollTo({top:0,behavior:"smooth"})};removeSidebar=()=>{this.sidebar.classList.remove("page__sidebar--active"),this.page.classList.remove("page__noScroll"),this.sidebarBody.classList.remove("sidebar__body--active"),this.sidebarOverlay.classList.remove("sidebar__overlay--show"),this.hamburgerMenu.classList.remove("hamburger-menu__content--active")};slickLeft=e=>{this.navigationTransform+=100,0===this.navigationTransform&&this.backButton.classList.remove("mobile-menu__back--show"),this.transformSidebar(),this.changeActiveWrapper(this.activeWrapper.parentElement.parentElement),this.activeWrapper.parentElement.parentElement.classList.add("mobile-menu__active");const i=[...this.activeWrapper.parentElement.parentElement.children];this.enableUnActiveMenuEts(i),this.disableActiveMenuEts(null,e),this.menuWrapper.classList.contains("mobile-menu__active")?this.menuWrapper.style.height="auto":this.menuWrapper.style.height=this.activeWrapper.parentElement.parentElement.offsetHeight+this.backButton.offsetHeight+"px"};slickRight=(e,i)=>{e.stopPropagation(),this.menuElements[i].children[1]&&(this.navigationTransform-=100),-100===this.navigationTransform&&this.backButton.classList.add(...this.backButtonModificators);const t=[...this.menuElements[i].children[1].children];this.transformSidebar(),this.enableUnActiveMenuEts(t),this.menuWrapper.style.height=this.menuElements[i].children[1].offsetHeight+this.backButton.offsetHeight+"px",this.changeActiveWrapper(this.menuElements[i].children[1]),this.disableActiveMenuEts(this.menuElements[i],e),this.menuElements[i].children[1].classList.add("mobile-menu__active")};transformSidebar=()=>{this.menuWrapper.style.transform=`translateX(${this.navigationTransform}%)`};changeActiveWrapper=()=>{this.activeWrapper=document.querySelector(".mobile-menu__active"),this.activeWrapper.classList.remove("mobile-menu__active")};disableActiveMenuEts=(e,i)=>{const t=[...this.activeWrapper.children];setTimeout((()=>{t.map(((t,s)=>(t.children[0].textContent!==e?.children[0].textContent||i.target.classList.contains("mobile-menu__back"))&&t.classList.remove("mobile-menu__item--active")))}),500)};enableUnActiveMenuEts=e=>{e.map((e=>e.classList.add("mobile-menu__item--active")))}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".page"),i=document.querySelector(".mobile-menu__wrapper"),t=document.querySelector(".page__sidebar"),s=document.querySelector(".sidebar__body"),a=document.querySelector(".sidebar__overlay"),l=document.querySelector(".back-button"),r=document.querySelector(".hamburger-menu__content"),n=[...document.querySelectorAll(".mobile-menu__toggler")],o=[...document.querySelectorAll(".mobile-menu__item")],c=[...document.querySelectorAll(".nested")],d=document.querySelector(".h-mobile__searcher-input");new Navigation(e,i,t,s,a,l,r,n,o,c,d).init()}));class Slider{constructor(e,i,t){this.sliderContent=e,this.sliderItem=i,this.navigationItem=t,this.sliderTransform=0,this.sliderItemMargin=0,this.activeSliderClass="slider__video--active"}slick=()=>{this.navigationItem[0].onclick=this.slickLeft,this.navigationItem[1].onclick=this.slickRight.bind("nextElementSibling")};getItemsMargin=e=>+window.getComputedStyle(e,null).getPropertyValue("margin-left").split("px").splice(0,1).join("");changeTranslation=()=>{const e=document.querySelector(`.${this.activeSliderClass}`);this.toggleMobDesktopSlider(e);const i=sliderItem.indexOf(e);i>1&&"slider__video--active"===this.activeSliderClass||i>0&&"slider__video--active-mobile"===this.activeSliderClass?this.sliderItem.map(((e,t)=>{if(t<i){let i="slider__video--active-mobile"===this.activeSliderClass?t+1:t;this.sliderTransform=e.offsetWidth*i+this.getItemsMargin(this.sliderItem[1])*i}})):this.sliderTransform=0,this.sliderContent.style.transform=`translate(${-this.sliderTransform}px)`};toggleMobDesktopSlider=e=>{window.innerWidth<650?e.previousElementSibling&&!e.classList.contains("slider__video--active-mobile")&&(e.previousElementSibling.classList.add("slider__video--active-mobile"),e.classList.remove("slider__video--active"),this.activeSliderClass="slider__video--active-mobile"):e.nextElementSibling&&e.classList.contains("slider__video--active-mobile")?(e.nextElementSibling.classList.add("slider__video--active"),e.classList.remove("slider__video--active-mobile"),this.activeSliderClass="slider__video--active"):(e.classList.add("slider__video--active"),e.classList.remove("slider__video--active-mobile"),this.activeSliderClass="slider__video--active")};slickLeft=()=>{const e=document.querySelector(`.${this.activeSliderClass}`);"slider__video--active-mobile"===this.activeSliderClass&&e.previousElementSibling||e.previousElementSibling?.previousElementSibling?(e.classList.remove(this.activeSliderClass),e.previousElementSibling.classList.add(this.activeSliderClass),this.changeTranslation()):(this.sliderItem[this.sliderItem.length-1].classList.add(this.activeSliderClass),e.classList.remove(this.activeSliderClass),this.changeTranslation())};slickRight=()=>{const e=document.querySelector(`.${this.activeSliderClass}`);e.nextElementSibling?(e.classList.remove(this.activeSliderClass),e.nextElementSibling.classList.add(this.activeSliderClass),this.changeTranslation()):(this.sliderItem["slider__video--active-mobile"===this.activeSliderClass?0:1].classList.add(this.activeSliderClass),this.sliderItem[this.sliderItem.length-1].classList.remove(this.activeSliderClass),this.changeTranslation())}}const sliderContent=document.querySelector(".slider__wrapper"),sliderItem=[...document.querySelectorAll(".slider__video")],navigationItem=[...document.querySelectorAll(".navigation__item")],activeItem=document.querySelector(".slider__video--active"),slider=new Slider(sliderContent,sliderItem,navigationItem);slider.toggleMobDesktopSlider(activeItem),slider.slick();